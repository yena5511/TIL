## 관계와 조인의 이해

#### 관계 

- 관계형 데이터베이스는 엔터티 간의 관게를 정의한다.
- 예를 들어 회원과 주문과의 관계에서, 회원과 주문은 엔터티이고 서로 발주라는 관계가 있다.

![](https://velog.velcdn.com/images/alsqod89/post/79520ee0-9ec8-445a-a4bb-42f68dc74e07/image.png)

- 한 명의 회원은 주문을 발주할 수 있고 발주하지 않을 수도 있다.
또한 한 명의 회원은 주문을 한 개 혹은 여러 개 발줄 할 수 있다.
- 위의 ERD를 데이터로 확인하면 다음과 같다.

> 회원 엔터티

![](https://velog.velcdn.com/images/alsqod89/post/cc0fde58-64c8-4acc-82db-a9222f3b1906/image.png)

> 주문 엔터티

![](https://velog.velcdn.com/images/alsqod89/post/270ec4ce-6a0f-4911-92df-5b969726a9f5/image.png)

- 회원번호 0001번 조조는 주문을 내지 않는다.
- 회원번호 0002번 유비는 2개의 상품에 대해서 주문을 발주했다.
- 회원번호 0003번 여포는 한 개의 상품에 대해서 주문을 발주했다.

#### 계층형 구조 표현

- 실세계에서는 부모, 자식 간의 관계형태인 계층형 구조가 많이 나타난다.

> 계층형 구조의 예

![](https://velog.velcdn.com/images/alsqod89/post/66cff46e-8248-44aa-8ac5-d150bbf22c26/image.png)

윈도우의 파일 시스템은 대표적인 계층형 구조 형태이다.
가장 상위의 Root부터 하위로 폴더와 파일들이 존재하는 구조이다.

> 셀프조인

![](https://velog.velcdn.com/images/alsqod89/post/f8f8f245-5921-47a3-82b3-a569c787f7ec/image.png)

- 기업의 조직을 모델링한 것이다.
- 관리자는 해당 직원의 상사의 사원번호를 의미한다.
    - 장비의 관리자는 관우
    - 관우의 관리자는 유비  
    - 최상위 관리자 유비는 관리자 속성이 NULL값
- 상사가 누구인지 확인하면, 관리자에서 사원번호를 확인 후 테이블에서 다시 조외해야 하는 번거로움이 생기는데 셀프조인을 통해 해결 할 수 있다.
