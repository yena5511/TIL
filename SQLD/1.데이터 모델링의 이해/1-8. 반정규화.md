## 반정규화

- 데이터 베이스의 성능 향상을 위하여, 데이터 중복을 허용하고 조인을 줄이는 데이터베이스 성능 향상 방법이다.
- 번정규화는 조회 속도를 향상하지만, 데이터모델의 유연성은 낮아진다.

#### 반정규화를 수행하는 경우

- 정규화에 충실하면 종속성, 활용성은 향상되지만 수행 속도가 느려지는 경우
- 다량의 범위를 자주 처이해야 하는 경우
- 특정 범위의 데이터만 자주 처리하는 경우
- 요악/집계 정보가 자주 요구되는 경우

**반정규화 절차**

|반정규화 절차|설명|
|:---|:---|
|대상 조사 및 검토|데이터 처리 범위, 통계성 등을 확인해서 반정규화 대상을 조사한다.|
|다른 방법 검토|반정규화를 수행하기 전에 다른 방법이 있는지 검토한다./ 예를 들어 클러스터링, 뷰, 인덱스 튜닝, 응용 프로그램, 파티션 등을 검토한다.|
|반정규화 수행|데이블, 속성, 관계 등을 반정규화 한다.|

```
클러스터링
- 클러스트링 인데스라는 것은 인데스 정보를 저장할 때 물리적으로 정렬해서 저장하는 방법이다.
- 따라서 조회 시에 인접 블록을 연속적으로 읽기 때문에 성능이 향상된다.
```

#### 반정규화 기법
 
1. 계산된 칼럼 추가
- 배치 프로그램으로 총판매액,  평균 장고, 계좌 평가 등을 미리 계산하고, 그 결과를 특정 칼럼에 추가한다.

2. 테이블 수직 분할
- 하나의 테이블을 두 개 이상의 테이블로 분할한다.
즉, 칼럼을 분할하여 새로운 테이블을 만드는 것이다.

3. 테이블 수평 분할
- 하나의 테이블에 있는 값을 기준으로 테이블을 분할하는 방법이다.

4. 테이블 병합
- 1대 1관게의 테이블을 하나의 테이블로 병합해서 성능을 향상 시킨다.
- 1대 N관계의 테이블을 병합하여 성능을 향상 시킨다. 하지만 많은 양의 데이터 중복이 발생한다.
- 슈퍼 파임과 타임관계가 발생하면 테이블을 퉁합하여 성늘을 향상시킨다.

> [Super type과 Sub type]
> - 슈퍼타입과 서브타입의 관계는 배타적 관계와 포괄적 관계가 있는데, 
	배타적 관계는 고객이 개인이거나 법인고객인 경우를 의미한다.
> - 포괄적인 관계는 고객이 개인고객일 수도 있고 법인고객일 수도 있는 것이다.
**슈퍼 타입 및 서브 타입 변환 방법**

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbvxY44%2FbtqZMm4RI1c%2Fi205FHkbOzkw4Ue17RpKz1%2Fimg.png)