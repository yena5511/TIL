## AOP

스프링 프레임워크에서 제공하는 기능 중 하나로 관점 지향 프로그래밍을 지원하는 기술이다.
Spring AOP는 로깅, 보안, 트랜잭션 관리 등과 같은 공통적인 관심사를 모듈화 하여 코드 중복을 줄이고 유지 보수성을 향상하는데 도움을 준다.

#### 관점 지향 프로그램 (Aspect-Oriented Programming, AOP)

 메소드나 객체의 기능을 핵심 관심사(Core Concern)와 공통 관심사(Cross-cutting Concern)로 나누어 프로그래밍하는 것을 말한다.
 “핵심 관심사”는 각 객체가 가져야 할 본래의 기능이며, “공통 관심사”는 여러 객체에서 공통적으로 사용되는 코드를 말한다.

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FeNJDYG%2FbtszlXA9nf4%2FO8iWnWIxfiJP97JNkNNkG0%2Fimg.png)

-  위에 이미지와 같이 3개의 A, B, C의 클래스가 있다고 가정

- 클래스 A에서는 주황, 파랑, 빨간색 블록으로 구성이 되어 있다.
- 클래스 B에서는 빨강, 주황 블록으로 구성되어 있다.
- 클래스 C에서는 주황, 파랑 블록으로 구성되어 있다. 
- 해당 색은 클래스 A, B, C에서 동일하게 사용되는 코드를 의미한다.

- 예를 들어서 클래스 A에서 주황색 블록을 수정을 하게 되면 클래스 B, C에서도 수정을 해야 한다. 
- 이렇게 되면 유지보수 차원에서 모든 코드를 수정해야 하니 불편한 점이 있다. 
- 그래서 Aspect X에서는 공통 관심사인 주황색 블록을 묶어서 모듈화를 시켜서 코드의 재 사용성과 유지 보수성을 강화하였다. 
- 이렇듯, 관점 지향 프로그래밍에서는 소스코드에서 반복적으로 사용하는 코드를 하나로 묶어서 모듈화 하여 재사용성과 유지 보수성을 높일 수 있는 강점을 가지고 있다.

#### AOP 주요 개념

- Asepect
    - 공통적인 기능들을 모듈화 한 것을 의미
    - 주로 부가기능을 모듈화 함
- Target
    - Aspect를 적용하는 곳(메소드, 클래스 등)
- JoinPoint
     - Aspect가 적용될 수 있는 시점을 의미하며 메소드 실행 전, 후 등이 될 수 있음
     - 메서드 진입지점, 생서자 호출, 필드에서 값을 꺼내올 때 등 다양한 시점에 적용가능
- PointCut
    - JoinPoint의 상세한 범위을 정의한 것
- Advice
    - Asepect의 기능을 정의한 것으로  메서드의 실행 전, 후, 예외 처리 발생 시 실행되는 코드를 의미

#### 주요 어노테이션

|Annotation|설명|
|:---|:---|
|@Aspect|해당 클래스를 Aspect로 사영하겠다는 것을 명시|
|@Before|대상 "메서드"가 실행되시 전에 Adivce를 실행|
|@AfterReturning|대상 "메서드"가 정상적으로 실행되고 반환된 후 Advice를 실행|
|@AfterThrowing|대상 "메서드에서 예외가 발생"할 경우 Advice가 실행|
|@After|대상 "메서드"가 실행된 후 Advice가 실행됨|
|@Around|대상 "메서드" 실행 전, 후 또는 예외 발생 시에 Advice를 실행|