## SELECT

데이터를 검색하는 기본 문장으로, 질의어라고 부른다.

```sql
SELECT bookname, publisher (속성 이름)
FROM Book ( 테이블 이름)
WHERE price>=10000; (검색 조건)
```

기본 문법

```sql
SELECT [ALL | DISTINCT] 속성이름(들)
FROM 테이블이름(들)
[WHERE 검색조건(들)]
[GROUP BY 속성이름]
[HAVING 검색조건(들)]
[ORDER BY 속성이름 [ASC | DESC]]
```
[]: 선택적으로 사용
| : 가능한 문법들 중 한 개를 사용

#### WHERE 조건

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F99BF77345A47CB7A05)

- 가격이 20000원 미만이 도서 검색
```sql
SELECT *
FROM Book
WHERE price < 20000;
```

- 출판사가 '굿스포츠' 혹은 '대한코리아'인 도서 검색
```sql
SELECT *
FROM Book
WHERE publisher IN ('굿스포츠', '대한코리아');
```

#### 외이드 문자의 종류

|와일드 문자|종류|사용 예|
|:---|:---|:---|
|+|문자열 연결|'골프' + '바이블' : '골프 바이블'|
|%|0개 이상의 문자열과 일치|'%축구%': 축구를 포함하는 문자열|
|[]|1개의 문자와 일치|'[0~5]%': 0~5사이 숫자로 시작하는 문자열|
|[^]|1개의 문자와 불일치|'[0~5]%': 0~5사이 숫자로 시작하지 않는 문자열|
|_|특정 위치의 1개의 문자와 일치|'_구%': 두 번째 위치에 '구'가 들어가는 문자열|


- 도서이름에 '축구'가 포함된 출판사를 검색
```sql
SELECT bookname, publisher
FROM Book
WHERE bookname LIKE '%축구%';
```

#### ORDER BY

- 도서를 이름순으로 검색
```sql
SELECT *
FROM Book
ORDER BY bookname;
```

- 도서를 가격의 내림차순으로 검색, 만약 가격이 같다면 출판사의 오름차순으로 출력
```sql
SELECT *
FROM Book
ORDER BY price DESC, publisher ASC;
```

##### 집계 함수와 GROUP BY

|집계 함수|문법|사용 예|
|:---|:---|:---|
|SUM|SUM([ALL , DISTINCT] 속성이름)|SUM(price)|
|AVG|AVG([ALL , DISTINCT] 속성이름)|AVG(price)|
|COUNT|COUNT([ALL , DISTINCT] 속성이름 *)|COUNT(*)|
|MAX|MAX([ALL , DISTINCT] 속성이름)|MAX(price)|
|MIN|MIN([ALL , DISTINCT] 속성이름)|MIN(price)|

GROUP BY 
:속성 값이 같은 값끼리 그룹을 만들 수 있다.

- 2번 고객이 주문한 도서의 총 판매액
```sql
SELECT SUM(saleprice) AS 총매출
FROM Orders
WHERE custid=2;
```

- 고객별로 주문한 도서의 총 수량과 총 판매액
```sql
SELECT custid, COUNT(*) AS 도서수량, SUM(saleprice) AS 총액
FROM Orders
GROUP BY custid;
```

HAVING 
:GROUP BY절의 구룹을 제한하는 역할

- 가격이 8000원 이상인 도서를 구매한 고객에 대히여 고객별 주문 도서의 총 수량 단, 두 권이상 구매한 고객
```sql
SELECT custid, COUNT(*) AS 도서수량
FROM Orders
WHERE saleprice >= 8000
GROUP BY custid;
HAVING count(*) >- 2;
```