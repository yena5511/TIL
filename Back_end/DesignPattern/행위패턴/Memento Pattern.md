## Memento Pattern(메먼토 패턴)

객체의 구현 세부 사항을 공개하지 않으면서 해당 객체의 이전 상태를 저장하고 복원할 수 있게 해주는 행동 디자인 패턴

#### 구조

![](https://velog.velcdn.com/images/weekbelt/post/c14c0d5b-3d44-4848-9ee3-b8521e82fb8b/image.png)

- 오리지네이터(originator)
    - 내부 상태를 보유하고 있는 일부 객체
    - 필요시 자신의 상태를 복원할 수도 있음
- 케어테이커(caretaker)
    - 오리지네이터의 상태를 캡처해야 하는지 뿐만 아니라 상태가 복원돼야 하는 시기도 알고 있음
    - 메멘토들의 스택을 저장하여 오리지네이터의 기록을 추적
- 메멘토(memento)
    - 오리지네이터의 상태의 스냅샷 역할을 하는 값 객체
    - 관행적으로 메멘토는 불변으로 만든 후 생성자를 통해 데이터를 한 번만 전달

#### 장점

- 캡슐화를 위반하지 않고 객체의 상태의 스냅샷들을 생성할 수 있음
- 상태의 기록을 유지하도록 하 코드를 단순화할 수 있음

#### 단점

- 클라이언트들이 메멘토들을 너무 자주 생성하면 앱이 많은 RAM을 소모할 수 있음
- 케어테이커들은 더 이상 쓸모없는 메멘토들을 파괴할 수 있도록 오리지네이터의 수명주기를 추적해야 함
- PHP, 파이썬 및 JavaScript와 같은 대부분의 동적 프로그래밍 언어에서는 메멘토 내의 상태가 그대로 유지된다고 보장할 수 없음