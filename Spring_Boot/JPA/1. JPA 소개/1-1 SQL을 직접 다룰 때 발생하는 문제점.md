## SQL을 직접 다룰 때 발생하는 문제점

관계형 데이터베이스는 가장 대중적이고 신뢰할 만한 안전한 저장소이다.

데이터베이스에 데이터를 관리하려면 SQL을 사용해야 한다.

![](https://velog.velcdn.com/images/moonlt93/post/eb3fbbdc-76a1-4e66-820e-5f84d2bf8067/image.png)

#### SQL에 의존적인 개발

- 진정한 의미의 계층 분할이 어렵다
    - 데이터 접근 계층을 사용해서 SQL을 숨겨도 어쩔 수 없이 DAO를 열어서 이떤 SQL이 실행되는지 확인해야 한다
- 엔터티를 신뢰할 수 없다
- SQL에 의존적인 개발을 피하기 어렵다
    - 데이터를 조회할 때는 물론이고 객체에 필드 하나 추가할 때도 DAO의 CRUD코드와 SQL대부분을 변경해야 한다

#### JPA와 문제해결

JPA가 개발자 대신에 적절한 SQL을 생성해서 데이터베이스에 전달한다

> 저장기능
```sql
jpa.persist(member); // 저장
```
persist()메소드를 호출하면 JPA가 객체와 매핑정보를 보고 적절한 INSERT SQL을 생성하여 데이터베이스에 전달한다